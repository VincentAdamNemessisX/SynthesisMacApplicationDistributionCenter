{% extends 'frontenduser/base.html' %}
{% load static %}
{% block title %}
    Mac软件分享平台 {{ category.name }}
{% endblock %}
{% block meta %}
    <meta name="keywords" content="{{ category.name }};{{ category.slug }}">
    <meta name="description" content="{{ category.description }}">
{% endblock %}
{% block style %}
    <style id="classic-theme-styles-inline-css">
        /*! This file is auto-generated */
        .wp-block-button__link {
            color: #fff;
            background-color: #32373c;
            border-radius: 9999px;
            box-shadow: none;
            text-decoration: none;
            padding: calc(.667em + 2px) calc(1.333em + 2px);
            font-size: 1.125em
        }

        .wp-block-file__button {
            background: #32373c;
            color: #fff;
            text-decoration: none
        }
    </style>
    <style>
        .sidebar-logo {
            position: relative;
            overflow: hidden;
            margin: 0 0 0 0
        }

        .sidebar-logo:before {
            content: "";
            position: absolute;
            left: -665px;
            top: -460px;
            width: 200px;
            height: 15px;
            background-color: rgba(255, 255, 255, .5);
            -webkit-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            -ms-transform: rotate(-45deg);
            -o-transform: rotate(-45deg);
            transform: rotate(-45deg);
            -webkit-animation: searchLights 10s ease-in 0s infinite;
            -o-animation: searchLights 6s ease-in 0s infinite;
            animation: searchLights 10s ease-in 0s infinite
        }

        @-moz-keyframes searchLights {
            50% {
                left: -120px;
                top: 0
            }
            65% {
                left: 350px;
                top: 0
            }
        }

        @keyframes searchLights {
            40% {
                left: -120px;
                top: 0
            }
            60% {
                left: 350px;
                top: 0
            }
            80% {
                left: -120px;
                top: 0
            }
        }
    </style>
    <style>
        .page-header ul {
            font-weight: 650;
        }
    </style>
    <style>
        .card, .block {
            background: #fff;
            border-width: 0;
            transition: background-color .3s;
            -webkit-box-shadow: rgb(163 177 198 / 50%) 12px 12px 24px 0, rgb(255 255 255) -12px -12px 24px 0
        }

        body {
            background: #e0e5ec
        }

        .sidebar-item > a:hover {
            background: #EEF0F4;
            box-shadow: 10px 10px 15px #d9dade, -9.91px -9.91px 15px #ffffff
        }

        .url-card a.card {
            border-radius: 15px
        }
    </style>
    <style>
        .header-big #search-text {
            color: #4069e4;
            border-radius: 15px;
            background: #e0e5ec;
            box-shadow: inset 9px 9px 15px rgb(0 0 0 / 10%), inset -9.31px -9.31px 15px #f5f8fa
        }
    </style>
    <style>.media-title-bg:before {
        content: "";
        position: absolute;
        left: 0;
        height: 80px;
        right: 0;
        bottom: 0;
        background-image: linear-gradient(to top, rgba(0, 0, 0, 0) 20%, transparent 80%);
    }

    /*.text-muted {
        color: #54a2ff!important
    }
    */
    .new-news ul li i {
        background: rgba(0, 0, 0, 0);
    }

    @font-face {
        font-family: 'io';  /* Project id 4184880 */
        src: url('//at.alicdn.com/t/c/font_4184880_vhx4dqprsh.woff2?t=1695309630232') format('woff2'),
        url('//at.alicdn.com/t/c/font_4184880_vhx4dqprsh.woff?t=1695309630232') format('woff'),
        url('//at.alicdn.com/t/c/font_4184880_vhx4dqprsh.ttf?t=1695309630232') format('truetype');
    }

    .iconfont {
        font-family: "iconfont", serif !important;
        font-size: 16px;
        font-style: normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;
        -moz-osx-font-smoothing: grayscale;
    }

    .icon-mac::before {
        content: "\e6d1";
    }

    .icon-microsoft::before {
        content: "\e6d2";
    }

    .card-app.card .app-platform {

        opacity: 1;
    }

    .ls-css-a > div > span > li {
        border: 4px #999 double;
        border-radius: 5px;
        padding: 0 5px;
    }

    .media-title {
        color: #c6e6f9;
        font-weight: bold;
        text-shadow: 5px 5px 5px #000;
    }

    .customize-width {
        max-width: 1900px
    }

    .sidebar-nav {
        width: 220px
    }

    @media (min-width: 768px) {
        .main-content {
            margin-left: 220px;
        }

        .main-content .page-header {
            left: 220px;
        }
    }</style>
    <style>
        .algolia-search-highlight {
            background-color: #fffbcc;
            border-radius: 2px;
            font-style: normal;
        }
    </style>
{% endblock %}
{% block content %}
    <div class="loading_container">
        <div class="loading"><i></i><i></i><i></i><i></i></div>
    </div>
    <body class="archive tax-apps term-yinpin term-48 sidebar_no">
    {% include 'frontenduser/sidebar.html' %}
    <div class="main-content flex-fill">
        {% include 'frontenduser/header-nav.html' %}
        <div class="container container-fluid customize-width">
            <div class="no-search my-2 p-1"></div>
        </div>
        <div id="content" class="container container-lg is_category">
            <div class="content-wrap">
                <div class="content-layout">
                    <h4 class="text-gray text-lg mb-4">
                        <i class="site-tag iconfont icon-app icon-lg mr-1" id="音频"></i>{{ category.name }}</h4>
                    <div class="row">
                        {% if category and software_set and software_set.count > 0 %}
                            {% for software in software_set %}
                                <div class="io-px-2 col-12 col-md-6 col-lg-4 col-xxl-5a ajax-url">
                                    <div class="card-app card">
                                        <div class="card-body align-items-center d-flex flex-fill py-3">
                                            <div class="media size-70 p-0 app-rounded"
                                                 style="background-image: linear-gradient(130deg, #f9f9f9, #e8e8e8);">
                                                <a class="media-content software_link_{{ software.id }}"
                                                   href="/software/details/software_id="
                                                   target="_blank"
                                                   data-bg="url({{ software.icon.url }})"
                                                   style="background-size: 85%; background-image: url({{ software.icon.url }});"
                                                   data-was-processed="true"></a>
                                            </div>
                                            <div class="app-content flex-fill pl-2 pr-1">
                                                <div class="mb-2"><a href="/software/details/?software_id="
                                                                     target="_blank"
                                                                     class="text-md overflowClip_1 software_link_{{ software.id }}">{{ software.name }}<span
                                                        class="text-xs"> - {{ software.version }}</span></a>
                                                    <script>
														$(document).ready(function () {
															let software_links = document.getElementsByClassName('software_link_{{ software.id }}');
															for (let i = 0; i < software_links.length; i++) {
																software_links[i].href += encrypt_param('{{ software.id }}');
															}
														})
                                                    </script>
                                                </div>
                                                <div class="text-muted text-xs overflowClip_1">{{ software.description }}</div>
                                                <div class="app-like">
                                                    <div class="d-flex align-items-center" style="white-space: nowrap;">
                                                        <div class="tga text-xs">
                                                <span class="mr-1"><a href="/category?category_id="
                                                                      class="category_link_{{ software.category.id }}"
                                                                      rel="tag">{{ software.category.name }}</a>
                                                <script>
                                                         $(document).ready(function () {
	                                                         let software_links = document.getElementsByClassName('category_link_{{ software.category.id }}');
	                                                         for (let i = 0; i < software_links.length; i++) {
		                                                         software_links[i].href += encrypt_param('{{ software.category.id }}');
	                                                         }
                                                         })
                                                </script>
                                                </span></div>
                                                        <div class="flex-fill"></div>
                                                        <div class="text-muted text-xs text-center mr-1">
                                                            <span class="down"><i
                                                                    class="iconfont icon-down"></i> 39</span>
                                                            <span class="home-like pl-2 " data-action="post_like"
                                                                  data-id="1295"><i
                                                                    class="iconfont icon-heart"></i> <span
                                                                    class="home-like-1295">3</span></span></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="app-platform"></div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            {% else %}
                            <div class="col-12">
                                <div class="alert alert-warning text-center" role="alert">
                                    <strong>抱歉，</strong> 该分类下暂无软件！
                                </div>
                            </div>
                        {% endif %}
                    </div>
                    <div class="posts-nav mb-4">
                    </div>
                </div>
            </div>
        </div>
    </div><!-- main-content end -->
{% endblock %}
</body>
{% block script %}
    <script type="text/javascript" id="jquery-js-after">
		/* <![CDATA[ */
		/* <![CDATA[ */
		function loadFunc(func) {
			if (document.all) {
				window.attachEvent("onload", func);
			} else {
				window.addEventListener("load", func, false);
			}
		}

		/* ]]]]><![CDATA[> */
		/* ]]> */
    </script>
    <script>
		document.oncontextmenu = function (event) {
			if (window.event) {
				event = window.event;
			}
			try {
				const the = event.srcElement;
				return (the.tagName === "INPUT" && the.type.toLowerCase() === "text") || the.tagName === "TEXTAREA";

			} catch (e) {
				return false;
			}
		}
    </script>
    <script>
		document.onkeydown = function () {
			if (window.event && window.event.keyCode === 123) {
				alert("小子，别想扒站！");
				event.keyCode = 0;
				event.keyCode = 0;
				event.returnValue = false;
			}
			if (window.event && window.event.keyCode === 13) {
				window.event.keyCode = 505;
			}
			if (window.event && window.event.keyCode === 8) {
				alert(str + "\n请使用Del键进行字符的删除操作！");
				window.event.returnValue = false;
			}
		}
    </script>
    <script>(function (a, b) {
		a.ioLetterAvatar = function (d, l, j) {
			d = d || "";
			l = l || 60;
			var h = "#1abc9c #2ecc71 #3498db #9b59b6 #3fe95e #16a085 #27ae60 #2980b9 #8e44ad #fc3e50 #f1c40f #e67e22 #e74c3c #00bcd4 #95aa36 #f39c12 #d35400 #c0392b #b2df1e #7ffc8d".split(" "),
				f, c, k, g, e, i, t, m;
			f = String(d).toUpperCase();
			f = f ? f.charAt(0) : "?";
			if (a.devicePixelRatio) {
				l = (l * a.devicePixelRatio)
			}
			c = parseInt((((f === "?" ? 72 : f.charCodeAt(0)) - 64) * 12345).toString().slice(0, 5));
			k = c % (h.length - 1);
			t = (c + 1) % (h.length - 1);
			m = (c - 1) % (h.length - 1);
			g = b.createElement("canvas");
			g.width = l;
			g.height = l;
			e = g.getContext("2d");
			e.fillStyle = j ? j : h[k];
			e.fillRect(0, 0, g.width, g.height);
			e.arc((c * 180) % l, (c * 150) % l, (c / 120) % l, 0, 360);
			e.fillStyle = h[t];
			e.globalAlpha = .6;
			e.fill();
			e.save();
			e.beginPath();
			e.fillStyle = h[m];
			e.globalAlpha = .4;
			e.arc((c * 20) % l, (c * 50) % l, ((99999 - c) / 80) % l, 0, 360);
			e.fill();
			e.font = Math.round(g.width / 2) + "px 'Microsoft Yahei'";
			e.textAlign = "center";
			e.fillStyle = "#fff";
			e.globalAlpha = 1;
			e.fillText(f, l / 2, l / 1.5);
			i = g.toDataURL();
			g = null;
			return i
		}
	})(window, document);</script>
    <script type="text/javascript">var algolia = {
		"debug": false,
		"application_id": "KORZRWOEEG",
		"search_api_key": "ce0407503b0c9943a1f797cbc9703daa",
		"powered_by_enabled": true,
		"query": "",
		"autocomplete": {
			"sources": [{
				"index_id": "posts_app",
				"index_name": "wp_posts_app",
				"label": "APP\/\u8d44\u6e90",
				"admin_name": "APP\/\u8d44\u6e90",
				"position": 10,
				"max_suggestions": 5,
				"tmpl_suggestion": "autocomplete-post-suggestion",
				"enabled": true
			}, {
				"index_id": "posts_post",
				"index_name": "wp_posts_post",
				"label": "\u6587\u7ae0",
				"admin_name": "\u6587\u7ae0",
				"position": 10,
				"max_suggestions": 5,
				"tmpl_suggestion": "autocomplete-post-suggestion",
				"enabled": true
			}, {
				"index_id": "terms_category",
				"index_name": "wp_terms_category",
				"label": "\u5206\u7c7b\u76ee\u5f55",
				"admin_name": "\u5206\u7c7b\u76ee\u5f55",
				"position": 20,
				"max_suggestions": 3,
				"tmpl_suggestion": "autocomplete-term-suggestion",
				"enabled": true
			}], "input_selector": "input[name='s']:not(.no-autocomplete):not(#adminbar-search)"
		},
		"indices": {
			"searchable_posts": {
				"name": "wp_searchable_posts",
				"id": "searchable_posts",
				"enabled": true,
				"replicas": []
			},
			"posts_post": {"name": "wp_posts_post", "id": "posts_post", "enabled": true, "replicas": []},
			"posts_app": {"name": "wp_posts_app", "id": "posts_app", "enabled": true, "replicas": []},
			"terms_category": {"name": "wp_terms_category", "id": "terms_category", "enabled": true, "replicas": []}
		}
	};</script>
    <script type="text/html" id="tmpl-autocomplete-header">
        <div class="autocomplete-header">
            <div class="autocomplete-header-title"></div>
            <div class="clear"></div>
        </div>
    </script>

    <script type="text/html" id="tmpl-autocomplete-post-suggestion">
        <a class="suggestion-link" href="" title="">
            <img class="suggestion-post-thumbnail" src="" alt="">
            <div class="suggestion-post-attributes">
                <span class="suggestion-post-title"></span>
            </div>
        </a>
    </script>

    <script type="text/html" id="tmpl-autocomplete-term-suggestion">
        <a class="suggestion-link" href="" title="">
            <svg viewBox="0 0 21 21" width="21" height="21">
                <svg width="21" height="21" viewBox="0 0 21 21">
                    <path
                            d="M4.662 8.72l-1.23 1.23c-.682.682-.68 1.792.004 2.477l5.135 5.135c.7.693 1.8.688 2.48.005l1.23-1.23 5.35-5.346c.31-.31.54-.92.51-1.36l-.32-4.29c-.09-1.09-1.05-2.06-2.15-2.14l-4.3-.33c-.43-.03-1.05.2-1.36.51l-.79.8-2.27 2.28-2.28 2.27zm9.826-.98c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25-1.25.56-1.25 1.25.56 1.25 1.25 1.25z"
                            fill-rule="evenodd"></path>
                </svg>
            </svg>
            <span class="suggestion-post-title"></span>
        </a>
    </script>

    <script type="text/html" id="tmpl-autocomplete-user-suggestion">
        <a class="suggestion-link user-suggestion-link" href="" title="">
            <img class="suggestion-user-thumbnail" src="" alt="">
            <span class="suggestion-post-title"></span>
        </a>
    </script>

    <script type="text/html" id="tmpl-autocomplete-footer">
        <div class="autocomplete-footer">
            <div class="autocomplete-footer-branding">
                <a href="#" class="algolia-powered-by-link" title="Algolia">
                    <svg width="150px" height="25px" viewBox="0 0 572 64">
                        <path fill="#36395A"
                              d="M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"></path>
                        <path fill="#003DFF"
                              d="M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"></path>
                    </svg>
                </a>
            </div>
        </div>
    </script>

    <script type="text/html" id="tmpl-autocomplete-empty">
        <div class="autocomplete-empty">
            No results matched your query <span class="empty-query">""</span>
        </div>
    </script>

    <script type="text/javascript">
		window.addEventListener('load', function () {

			/* Initialize Algolia client */
			var client = algoliasearch(algolia.application_id, algolia.search_api_key);

			/**
			 * Algolia hits source method.
			 *
			 * This method defines a custom source to use with autocomplete.js.
			 *
			 * @param index
			 * @param params
			 */
			var algoliaHitsSource = function (index, params) {
				return function (query, callback) {
					index
						.search(query, params)
						.then(function (response) {
							callback(response.hits, response);
						})
						.catch(function (error) {
							callback([]);
						});
				}
			}

			/* Setup autocomplete.js sources */
			var sources = [];
			algolia.autocomplete.sources.forEach(function (config, i) {
				var suggestion_template = wp.template(config['tmpl_suggestion']);
				sources.push({
					source: algoliaHitsSource(client.initIndex(config['index_name']), {
						hitsPerPage: config['max_suggestions'],
						attributesToSnippet: [
							'content:10'
						],
						highlightPreTag: '__ais-highlight__',
						highlightPostTag: '__/ais-highlight__'
					}),
					templates: {
						header: function () {
							return wp.template('autocomplete-header')({
								label: _.escape(config['label'])
							});
						},
						suggestion: function (hit) {
							if (hit.escaped === true) {
								return suggestion_template(hit);
							}
							hit.escaped = true;

							for (var key in hit._highlightResult) {
								/* We do not deal with arrays. */
								if (typeof hit._highlightResult[key].value !== 'string') {
									continue;
								}
								hit._highlightResult[key].value = _.escape(hit._highlightResult[key].value);
								hit._highlightResult[key].value = hit._highlightResult[key].value.replace(/__ais-highlight__/g, '<em>').replace(/__\/ais-highlight__/g, '</em>');
							}

							for (var key in hit._snippetResult) {
								/* We do not deal with arrays. */
								if (typeof hit._snippetResult[key].value !== 'string') {
									continue;
								}

								hit._snippetResult[key].value = _.escape(hit._snippetResult[key].value);
								hit._snippetResult[key].value = hit._snippetResult[key].value.replace(/__ais-highlight__/g, '<em>').replace(/__\/ais-highlight__/g, '</em>');
							}

							return suggestion_template(hit);
						}
					}
				});

			});

			/* Setup dropdown menus */
			document.querySelectorAll(algolia.autocomplete.input_selector).forEach(function (element) {

				var config = {
					debug: algolia.debug,
					hint: false,
					openOnFocus: true,
					appendTo: 'body',
					templates: {
						empty: wp.template('autocomplete-empty')
					}
				};

				if (algolia.powered_by_enabled) {
					config.templates.footer = wp.template('autocomplete-footer');
				}

				/* Instantiate autocomplete.js */
				var autocomplete = algoliaAutocomplete(element, config, sources)
					.on('autocomplete:selected', function (e, suggestion) {
						/* Redirect the user when we detect a suggestion selection. */
						window.location.href = suggestion.permalink ?? suggestion.posts_url; // Users use the `posts_url` property instead of `permalink`.
					});

				/* Force the dropdown to be re-drawn on scroll to handle fixed containers. */
				window.addEventListener('scroll', function () {
					if (autocomplete.autocomplete.getWrapper().style.display === "block") {
						autocomplete.autocomplete.close();
						autocomplete.autocomplete.open();
					}
				});
			});

			var algoliaPoweredLink = document.querySelector('.algolia-powered-by-link');
			if (algoliaPoweredLink) {
				algoliaPoweredLink.addEventListener('click', function (e) {
					e.preventDefault();
					window.location = "https://www.algolia.com/?utm_source=WordPress&utm_medium=extension&utm_content=" + window.location.hostname + "&utm_campaign=poweredby";
				});
			}
		});
    </script>
    <script type="text/javascript" id="appjs-js-extra">
		/* <![CDATA[ */
		var theme = {
			"ajaxurl": "https:\/\/macwk.cn\/wp-admin\/admin-ajax.php",
			"uri": "https:\/\/macwk.cn\/wp-content\/themes\/onenav",
			"loginurl": "https:\/\/macwk.cn\/wp-login.php?redirect_to=https%3A%2F%2Fmacwk.cn%2Fapp%2F1428.html",
			"sitesName": "MacWk",
			"addico": "https:\/\/macwk.cn\/wp-content\/themes\/onenav\/images\/add.png",
			"order": "asc",
			"formpostion": "top",
			"defaultclass": "io-grey-mode",
			"isCustomize": "",
			"icourl": "https:\/\/api.iowen.cn\/favicon\/",
			"icopng": ".png",
			"urlformat": "1",
			"customizemax": "10",
			"newWindow": "1",
			"lazyload": "1",
			"minNav": "",
			"loading": "",
			"hotWords": "null",
			"classColumns": " col-2a col-sm-2a col-md-2a col-lg-3a col-xl-5a col-xxl-6a ",
			"apikey": "TWpBeU1USTJNemd4TWpZM0d6RS9oY25Zd1FWcDFRak5PVWxOUFoyMUlhVkp5TkhwRmNtcG9VVWhDVjFNeg==",
			"isHome": "",
			"version": "4.1031"
		};
		var localize = {
			"liked": "\u60a8\u5df2\u7ecf\u8d5e\u8fc7\u4e86!",
			"like": "\u8c22\u8c22\u70b9\u8d5e!",
			"networkerror": "\u7f51\u7edc\u9519\u8bef --.",
			"selectCategory": "\u4e3a\u4ec0\u4e48\u4e0d\u9009\u5206\u7c7b\u3002",
			"addSuccess": "\u6dfb\u52a0\u6210\u529f\u3002",
			"timeout": "\u8bbf\u95ee\u8d85\u65f6\uff0c\u8bf7\u518d\u8bd5\u8bd5\uff0c\u6216\u8005\u624b\u52a8\u586b\u5199\u3002",
			"lightMode": "\u65e5\u95f4\u6a21\u5f0f",
			"nightMode": "\u591c\u95f4\u6a21\u5f0f",
			"editBtn": "\u7f16\u8f91",
			"okBtn": "\u786e\u5b9a",
			"urlExist": "\u8be5\u7f51\u5740\u5df2\u7ecf\u5b58\u5728\u4e86 --.",
			"cancelBtn": "\u53d6\u6d88",
			"successAlert": "\u6210\u529f",
			"infoAlert": "\u4fe1\u606f",
			"warningAlert": "\u8b66\u544a",
			"errorAlert": "\u9519\u8bef",
			"extractionCode": "\u7f51\u76d8\u63d0\u53d6\u7801\u5df2\u590d\u5236\uff0c\u70b9\u201c\u786e\u5b9a\u201d\u8fdb\u5165\u4e0b\u8f7d\u9875\u9762\u3002",
			"wait": "\u8bf7\u7a0d\u5019",
			"loading": "\u6b63\u5728\u5904\u7406\u8bf7\u7a0d\u540e...",
			"userAgreement": "\u8bf7\u5148\u9605\u8bfb\u5e76\u540c\u610f\u7528\u6237\u534f\u8bae",
			"reSend": "\u79d2\u540e\u91cd\u65b0\u53d1\u9001",
			"weChatPay": "\u5fae\u4fe1\u652f\u4ed8",
			"alipay": "\u652f\u4ed8\u5b9d",
			"scanQRPay": "\u8bf7\u626b\u7801\u652f\u4ed8",
			"payGoto": "\u652f\u4ed8\u6210\u529f\uff0c\u9875\u9762\u8df3\u8f6c\u4e2d"
		};
		/* ]]> */
    </script>
    <script type="text/javascript" id="appjs-js-after">
		$(document).ready(function () {
			if ($("#search-text")[0]) {
				$("#search-text").focus();
			}
		});
    </script>

    {#    some errors occurred, handle them here#}
    <script>
		{% if error %}
			$(document).ready(function () {
				Swal.fire({
					icon: 'error',
					title: '错误',
					text: '{{ code }}:  {{ error }}!',
					confirmButtonText: '我已了解！'
				}).then(function () {
					window.history.back();
				})
			})
		{% endif %}
    </script>
{% endblock %}